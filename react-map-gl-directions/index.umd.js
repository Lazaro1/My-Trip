!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e=e||self).reactMapGlDirections=t(e.react)}(this,function(e){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return r()}},n.exports),n.exports}function r(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}
/** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */var o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,c=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,f=o?Symbol.for("react.provider"):60109,p=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.async_mode"):60111,h=o?Symbol.for("react.concurrent_mode"):60111,y=o?Symbol.for("react.forward_ref"):60112,v=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.suspense_list"):60120,g=o?Symbol.for("react.memo"):60115,b=o?Symbol.for("react.lazy"):60116,_=o?Symbol.for("react.block"):60121,O=o?Symbol.for("react.fundamental"):60117,w=o?Symbol.for("react.responder"):60118,E=o?Symbol.for("react.scope"):60119;function j(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case h:case s:case u:case c:case v:return e;default:switch(e=e&&e.$$typeof){case p:case y:case b:case g:case f:return e;default:return t}}case a:return t}}}function x(e){return j(e)===h}var S={AsyncMode:d,ConcurrentMode:h,ContextConsumer:p,ContextProvider:f,Element:i,ForwardRef:y,Fragment:s,Lazy:b,Memo:g,Portal:a,Profiler:u,StrictMode:c,Suspense:v,isAsyncMode:function(e){return x(e)||j(e)===d},isConcurrentMode:x,isContextConsumer:function(e){return j(e)===p},isContextProvider:function(e){return j(e)===f},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},isForwardRef:function(e){return j(e)===y},isFragment:function(e){return j(e)===s},isLazy:function(e){return j(e)===b},isMemo:function(e){return j(e)===g},isPortal:function(e){return j(e)===a},isProfiler:function(e){return j(e)===u},isStrictMode:function(e){return j(e)===c},isSuspense:function(e){return j(e)===v},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===s||e===h||e===u||e===c||e===v||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===g||e.$$typeof===f||e.$$typeof===p||e.$$typeof===y||e.$$typeof===O||e.$$typeof===w||e.$$typeof===E||e.$$typeof===_)},typeOf:j},I=n(function(e,t){"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,l=e?Symbol.for("react.concurrent_mode"):60111,f=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,y=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.block"):60121,m=e?Symbol.for("react.fundamental"):60117,g=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var d=e.type;switch(d){case u:case l:case o:case a:case i:case p:return d;default:var v=d&&d.$$typeof;switch(v){case c:case f:case y:case h:case s:return v;default:return t}}case r:return t}}}var O=l,w=c,E=s,j=n,x=f,S=o,I=y,T=h,k=r,C=a,N=i,R=p,D=!1;function A(e){return _(e)===l}t.AsyncMode=u,t.ConcurrentMode=O,t.ContextConsumer=w,t.ContextProvider=E,t.Element=j,t.ForwardRef=x,t.Fragment=S,t.Lazy=I,t.Memo=T,t.Portal=k,t.Profiler=C,t.StrictMode=N,t.Suspense=R,t.isAsyncMode=function(e){return D||(D=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),A(e)||_(e)===u},t.isConcurrentMode=A,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===y},t.isMemo=function(e){return _(e)===h},t.isPortal=function(e){return _(e)===r},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===i},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===l||e===a||e===i||e===p||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===h||e.$$typeof===s||e.$$typeof===c||e.$$typeof===f||e.$$typeof===m||e.$$typeof===g||e.$$typeof===b||e.$$typeof===v)},t.typeOf=_}()}),T=n(function(e){e.exports="production"===process.env.NODE_ENV?S:I}),k=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;function R(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var D=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=R(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))C.call(n,a)&&(o[a]=n[a]);if(k){r=k(n);for(var s=0;s<r.length;s++)N.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o},A="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",M=function(){};if("production"!==process.env.NODE_ENV){var L=A,P={},F=Function.call.bind(Object.prototype.hasOwnProperty);M=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function $(e,t,n,r,o){if("production"!==process.env.NODE_ENV)for(var i in e)if(F(e,i)){var a;try{if("function"!=typeof e[i]){var s=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.");throw s.name="Invariant Violation",s}a=e[i](t,i,r,n,null,L)}catch(e){a=e}if(!a||a instanceof Error||M((r||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in P)){P[a.message]=!0;var c=o?o():"";M("Failed "+n+" type: "+a.message+(null!=c?c:""))}}}$.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(P={})};var q=$,z=Function.call.bind(Object.prototype.hasOwnProperty),U=function(){};function V(){return null}function W(){}function G(){}"production"!==process.env.NODE_ENV&&(U=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}),G.resetWarningCache=W;var Q=n(function(e){e.exports="production"!==process.env.NODE_ENV?function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,r={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:a(V),arrayOf:function(e){return a(function(t,n,r,o,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new i("Invalid "+o+" `"+a+"` of type `"+u(s)+"` supplied to `"+r+"`, expected an array.");for(var c=0;c<s.length;c++){var l=e(s,c,r,o,a+"["+c+"]",A);if(l instanceof Error)return l}return null})},element:a(function(t,n,r,o,a){var s=t[n];return e(s)?null:new i("Invalid "+o+" `"+a+"` of type `"+u(s)+"` supplied to `"+r+"`, expected a single ReactElement.")}),elementType:a(function(e,t,n,r,o){var a=e[t];return T.isValidElementType(a)?null:new i("Invalid "+r+" `"+o+"` of type `"+u(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")}),instanceOf:function(e){return a(function(t,n,r,o,a){var s;return t[n]instanceof e?null:new i("Invalid "+o+" `"+a+"` of type `"+((s=t[n]).constructor&&s.constructor.name?s.constructor.name:"<<anonymous>>")+"` supplied to `"+r+"`, expected instance of `"+(e.name||"<<anonymous>>")+"`.")})},node:a(function(e,t,n,r,o){return c(e[t])?null:new i("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(e){return a(function(t,n,r,o,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],c=u(s);if("object"!==c)return new i("Invalid "+o+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var l in s)if(z(s,l)){var f=e(s,l,r,o,a+"."+l,A);if(f instanceof Error)return f}return null})},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&U(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),V;function t(t,n,r,a,s){for(var c=t[n],u=0;u<e.length;u++)if(o(c,e[u]))return null;var f=JSON.stringify(e,function(e,t){return"symbol"===l(t)?String(t):t});return new i("Invalid "+a+" `"+s+"` of value `"+String(c)+"` supplied to `"+r+"`, expected one of "+f+".")}return a(t)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&U("Invalid argument supplied to oneOfType, expected an instance of array."),V;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return U("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+f(n)+" at index "+t+"."),V}return a(function(t,n,r,o,a){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,r,o,a,A))return null;return new i("Invalid "+o+" `"+a+"` supplied to `"+r+"`.")})},shape:function(e){return a(function(t,n,r,o,a){var s=t[n],c=u(s);if("object"!==c)return new i("Invalid "+o+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var f=e[l];if(f){var p=f(s,l,r,o,a+"."+l,A);if(p)return p}}return null})},exact:function(e){return a(function(t,n,r,o,a){var s=t[n],c=u(s);if("object"!==c)return new i("Invalid "+o+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var l=D({},t[n],e);for(var f in l){var p=e[f];if(!p)return new i("Invalid "+o+" `"+a+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=p(s,f,r,o,a+"."+f,A);if(d)return d}return null})}};function o(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function i(e){this.message=e,this.stack=""}function a(e){function t(t,n,r,o,a,s,c){if(o=o||"<<anonymous>>",s=s||r,c!==A){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}return null==n[r]?t?new i(null===n[r]?"The "+a+" `"+s+"` is marked as required in `"+o+"`, but its value is `null`.":"The "+a+" `"+s+"` is marked as required in `"+o+"`, but its value is `undefined`."):null:e(n,r,o,a,s)}process;var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function s(e){return a(function(t,n,r,o,a,s){var c=t[n];return u(c)!==e?new i("Invalid "+o+" `"+a+"` of type `"+l(c)+"` supplied to `"+r+"`, expected `"+e+"`."):null})}function c(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(c);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!c(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!c(a[1]))return!1}return!0;default:return!1}}function u(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function l(e){if(null==e)return""+e;var t=u(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function f(e){var t=l(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return i.prototype=Error.prototype,r.checkPropTypes=q,r.resetWarningCache=q.resetWarningCache,r.PropTypes=r,r}(T.isElement):function(){function e(e,t,n,r,o,i){if(i!==A){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:G,resetWarningCache:W};return n.PropTypes=n,n}()}),B=n(function(e,n){e.exports=function e(t,n,o){function i(s,c){if(!n[s]){if(!t[s]){if(!c&&r)return r();if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return i(t[s][1][e]||e)},l,l.exports,e,t,n,o)}return n[s].exports}for(var a=r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){var r={};function o(e){return Math.floor(Math.abs(e)+.5)*(e>=0?1:-1)}function i(e,t,n){var r=(e=o(e*n))-(t=o(t*n));r<<=1,e-t<0&&(r=~r);for(var i="";r>=32;)i+=String.fromCharCode(63+(32|31&r)),r>>=5;return i+String.fromCharCode(r+63)}function a(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice().reverse());return t}r.decode=function(e,t){for(var n,r=0,o=0,i=0,a=[],s=0,c=0,u=null,l=Math.pow(10,t||5);r<e.length;){u=null,s=0,c=0;do{c|=(31&(u=e.charCodeAt(r++)-63))<<s,s+=5}while(u>=32);n=1&c?~(c>>1):c>>1,s=c=0;do{c|=(31&(u=e.charCodeAt(r++)-63))<<s,s+=5}while(u>=32);a.push([(o+=n)/l,(i+=1&c?~(c>>1):c>>1)/l])}return a},r.encode=function(e,t){if(!e.length)return"";for(var n=Math.pow(10,t||5),r=i(e[0][0],0,n)+i(e[0][1],0,n),o=1;o<e.length;o++){var a=e[o],s=e[o-1];r+=i(a[0],s[0],n),r+=i(a[1],s[1],n)}return r},r.fromGeoJSON=function(e,t){if(e&&"Feature"===e.type&&(e=e.geometry),!e||"LineString"!==e.type)throw new Error("Input must be a GeoJSON LineString");return r.encode(a(e.coordinates),t)},r.toGeoJSON=function(e,t){return{type:"LineString",coordinates:a(r.decode(e,t))}},"object"==typeof t&&t.exports&&(t.exports=r)},{}],2:[function(e,t,n){var r=e("is-obj"),o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}function s(e,t,n){var i=t[n];if(null!=i){if(o.call(e,n)&&null==e[n])throw new TypeError("Cannot convert undefined or null to object ("+n+")");e[n]=o.call(e,n)&&r(i)?c(Object(e[n]),t[n]):i}}function c(e,t){if(e===t)return e;for(var n in t=Object(t))o.call(t,n)&&s(e,t,n);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(t),a=0;a<r.length;a++)i.call(t,r[a])&&s(e,t,r[a]);return e}t.exports=function(e){e=a(e);for(var t=1;t<arguments.length;t++)c(e,arguments[t]);return e}},{"is-obj":5}],3:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,s,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(a(n=this._events[e]))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),r=(u=n.slice()).length,c=0;c<r;c++)u[c].apply(this,s);return!0},r.prototype.on=r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.once=function(e,t){if(!o(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,a,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(o(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],4:[function(e,t,n){!function(){var e={};void 0!==n?t.exports=e:this.fuzzy=e,e.simpleFilter=function(t,n){return n.filter(function(n){return e.test(t,n)})},e.test=function(t,n){return null!==e.match(t,n)},e.match=function(e,t,n){var r,o=0,i=[],a=t.length,s=0,c=0,u=(n=n||{}).pre||"",l=n.post||"",f=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var p=0;p<a;p++)r=t[p],f[p]===e[o]?(r=u+r+l,o+=1,c+=1+c):c=0,s+=c,i[i.length]=r;return o===e.length?(s=f===e?Infinity:s,{rendered:i.join(""),score:s}):null},e.filter=function(t,n,r){return n&&0!==n.length?"string"!=typeof t?n:(r=r||{},n.reduce(function(n,o,i,a){var s=o;r.extract&&(s=r.extract(o));var c=e.match(t,s,r);return null!=c&&(n[n.length]={string:c.rendered,score:c.score,index:i,original:o}),n},[]).sort(function(e,t){return t.score-e.score||e.index-t.index})):[]}}()},{}],5:[function(e,t,n){t.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},{}],6:[function(e,t,n){t.exports=/<%=([\s\S]+?)%>/g},{}],7:[function(e,n,r){(function(e){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof self&&self&&self.Object===Object&&self,c="object"==typeof e&&e&&e.Object===Object&&e||s||Function("return this")(),u=Object.prototype.toString,l=Math.max,f=Math.min,p=function(){return c.Date.now()};function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(d(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=d(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(t,"");var s=o.test(e);return s||i.test(e)?a(e.slice(2),s?2:8):r.test(e)?NaN:+e}n.exports=function(e,t,n){var r,o,i,a,s,c,u=0,y=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function b(e){return u=e,s=setTimeout(O,t),y?g(e):a}function _(e){var n=e-c;return void 0===c||n>=t||n<0||v&&e-u>=i}function O(){var e=p();if(_(e))return w(e);s=setTimeout(O,function(e){var n=t-(e-c);return v?f(n,i-(e-u)):n}(e))}function w(e){return s=void 0,m&&r?g(e):(r=o=void 0,a)}function E(){var e=p(),n=_(e);if(r=arguments,o=this,c=e,n){if(void 0===s)return b(c);if(v)return s=setTimeout(O,t),g(c)}return void 0===s&&(s=setTimeout(O,t)),a}return t=h(t)||0,d(n)&&(y=!!n.leading,i=(v="maxWait"in n)?l(h(n.maxWait)||0,t):i,m="trailing"in n?!!n.trailing:m),E.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=o=s=void 0},E.flush=function(){return void 0===s?a:w(p())},E}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,n,r){(function(e){var t="[object Arguments]",o="[object Map]",i="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[t]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u[o]=u["[object Number]"]=u[i]=u["[object RegExp]"]=u[a]=u["[object String]"]=u["[object WeakMap]"]=!1;var l="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,p=l||f||Function("return this")(),d="object"==typeof r&&r&&!r.nodeType&&r,h=d&&"object"==typeof n&&n&&!n.nodeType&&n,y=h&&h.exports===d,v=y&&l.process,m=function(){try{return v&&v.binding&&v.binding("util")}catch(e){}}(),g=m&&m.isTypedArray;function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function _(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function O(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var w,E,j,x=Array.prototype,S=Object.prototype,I=p["__core-js_shared__"],T=Function.prototype.toString,k=S.hasOwnProperty,C=(w=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",N=S.toString,R=RegExp("^"+T.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=y?p.Buffer:void 0,A=p.Symbol,M=p.Uint8Array,L=S.propertyIsEnumerable,P=x.splice,F=A?A.toStringTag:void 0,$=Object.getOwnPropertySymbols,q=D?D.isBuffer:void 0,z=(E=Object.keys,j=Object,function(e){return E(j(e))}),U=de(p,"DataView"),V=de(p,"Map"),W=de(p,"Promise"),G=de(p,"Set"),Q=de(p,"WeakMap"),B=de(Object,"create"),H=me(U),Y=me(V),J=me(W),K=me(G),X=me(Q),Z=A?A.prototype:void 0,ee=Z?Z.valueOf:void 0;function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new re;++t<n;)this.add(e[t])}function ie(e){var t=this.__data__=new ne(e);this.size=t.size}function ae(e,t){for(var n=e.length;n--;)if(ge(e[n][0],t))return n;return-1}function se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=k.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(e){}var o=N.call(e);return r&&(t?e[F]=n:delete e[F]),o}(e):function(e){return N.call(e)}(e)}function ce(e){return xe(e)&&se(e)==t}function ue(e,n,r,s,c){return e===n||(null==e||null==n||!xe(e)&&!xe(n)?e!=e&&n!=n:function(e,n,r,s,c,u){var l=_e(e),f=_e(n),p=l?"[object Array]":ye(e),d=f?"[object Array]":ye(n),h=(p=p==t?i:p)==i,y=(d=d==t?i:d)==i,v=p==d;if(v&&Oe(e)){if(!Oe(n))return!1;l=!0,h=!1}if(v&&!h)return u||(u=new ie),l||Se(e)?le(e,n,r,s,c,u):function(e,t,n,r,i,s,c){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new M(e),new M(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ge(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case o:var u=_;case a:if(u||(u=O),e.size!=t.size&&!(1&r))return!1;var l=c.get(e);if(l)return l==t;r|=2,c.set(e,t);var f=le(u(e),u(t),r,i,s,c);return c.delete(e),f;case"[object Symbol]":if(ee)return ee.call(e)==ee.call(t)}return!1}(e,n,p,r,s,c,u);if(!(1&r)){var m=h&&k.call(e,"__wrapped__"),g=y&&k.call(n,"__wrapped__");if(m||g){var b=m?e.value():e,w=g?n.value():n;return u||(u=new ie),c(b,w,r,s,u)}}return!!v&&(u||(u=new ie),function(e,t,n,r,o,i){var a=1&n,s=fe(e),c=s.length;if(c!=fe(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:k.call(t,l)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var p=!0;i.set(e,t),i.set(t,e);for(var d=a;++u<c;){var h=e[l=s[u]],y=t[l];if(r)var v=a?r(y,h,l,t,e,i):r(h,y,l,e,t,i);if(!(void 0===v?h===y||o(h,y,n,r,i):v)){p=!1;break}d||(d="constructor"==l)}if(p&&!d){var m=e.constructor,g=t.constructor;m==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g||(p=!1)}return i.delete(e),i.delete(t),p}(e,n,r,s,c,u))}(e,n,r,s,ue,c))}function le(e,t,n,r,o,i){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var l=-1,f=!0,p=2&n?new oe:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var d=e[l],h=t[l];if(r)var y=a?r(h,d,l,t,e,i):r(d,h,l,e,t,i);if(void 0!==y){if(y)continue;f=!1;break}if(p){if(!b(t,function(e,t){if(!p.has(t)&&(d===e||o(d,e,n,r,i)))return p.push(t)})){f=!1;break}}else if(d!==h&&!o(d,h,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function fe(e){return function(e,t,n){var r=t(e);return _e(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ie,he)}function pe(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function de(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!je(e)||function(e){return!!C&&C in e}(e))&&(we(e)?R:s).test(me(e))}(n)?n:void 0}te.prototype.clear=function(){this.__data__=B?B(null):{},this.size=0},te.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},te.prototype.get=function(e){var t=this.__data__;if(B){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return k.call(t,e)?t[e]:void 0},te.prototype.has=function(e){var t=this.__data__;return B?void 0!==t[e]:k.call(t,e)},te.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=B&&void 0===t?"__lodash_hash_undefined__":t,this},ne.prototype.clear=function(){this.__data__=[],this.size=0},ne.prototype.delete=function(e){var t=this.__data__,n=ae(t,e);return!(n<0||(n==t.length-1?t.pop():P.call(t,n,1),--this.size,0))},ne.prototype.get=function(e){var t=this.__data__,n=ae(t,e);return n<0?void 0:t[n][1]},ne.prototype.has=function(e){return ae(this.__data__,e)>-1},ne.prototype.set=function(e,t){var n=this.__data__,r=ae(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},re.prototype.clear=function(){this.size=0,this.__data__={hash:new te,map:new(V||ne),string:new te}},re.prototype.delete=function(e){var t=pe(this,e).delete(e);return this.size-=t?1:0,t},re.prototype.get=function(e){return pe(this,e).get(e)},re.prototype.has=function(e){return pe(this,e).has(e)},re.prototype.set=function(e,t){var n=pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},oe.prototype.add=oe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},oe.prototype.has=function(e){return this.__data__.has(e)},ie.prototype.clear=function(){this.__data__=new ne,this.size=0},ie.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ie.prototype.get=function(e){return this.__data__.get(e)},ie.prototype.has=function(e){return this.__data__.has(e)},ie.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ne){var r=n.__data__;if(!V||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new re(r)}return n.set(e,t),this.size=n.size,this};var he=$?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var r=-1,o=null==t?0:t.length,i=0,a=[];++r<o;){var s=t[r];L.call(e,s)&&(a[i++]=s)}return a}($(e)))}:function(){return[]},ye=se;function ve(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||c.test(e))&&e>-1&&e%1==0&&e<t}function me(e){if(null!=e){try{return T.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ge(e,t){return e===t||e!=e&&t!=t}(U&&"[object DataView]"!=ye(new U(new ArrayBuffer(1)))||V&&ye(new V)!=o||W&&"[object Promise]"!=ye(W.resolve())||G&&ye(new G)!=a||Q&&"[object WeakMap]"!=ye(new Q))&&(ye=function(e){var t=se(e),n=t==i?e.constructor:void 0,r=n?me(n):"";if(r)switch(r){case H:return"[object DataView]";case Y:return o;case J:return"[object Promise]";case K:return a;case X:return"[object WeakMap]"}return t});var be=ce(function(){return arguments}())?ce:function(e){return xe(e)&&k.call(e,"callee")&&!L.call(e,"callee")},_e=Array.isArray,Oe=q||function(){return!1};function we(e){if(!je(e))return!1;var t=se(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ee(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function je(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function xe(e){return null!=e&&"object"==typeof e}var Se=g?function(e){return function(t){return e(t)}}(g):function(e){return xe(e)&&Ee(e.length)&&!!u[se(e)]};function Ie(e){return null!=(t=e)&&Ee(t.length)&&!we(t)?function(e,t){var n=_e(e),r=!n&&be(e),o=!n&&!r&&Oe(e),i=!n&&!r&&!o&&Se(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!k.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ve(u,c))||s.push(u);return s}(e):function(e){if((t=e)!==("function"==typeof(n=t&&t.constructor)&&n.prototype||S))return z(e);var t,n,r=[];for(var o in Object(e))k.call(e,o)&&"constructor"!=o&&r.push(o);return r}(e);var t}n.exports=function(e,t){return ue(e,t)}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,n,r){(function(t){var r=e("lodash._reinterpolate"),o=e("lodash.templatesettings"),i=/\b__p \+= '';/g,a=/\b(__p \+=) '' \+/g,s=/(__e\(.*?\)|\b__t\)) \+\n'';/g,c=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,u=/^(?:0|[1-9]\d*)$/,l=/($^)/,f=/['\n\r\u2028\u2029\\]/g,p={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},d="object"==typeof self&&self&&self.Object===Object&&self,h="object"==typeof t&&t&&t.Object===Object&&t||d||Function("return this")();function y(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function v(e){return"\\"+p[e]}var m,g,b=Object.prototype,_=b.hasOwnProperty,O=b.toString,w=h.Symbol,E=b.propertyIsEnumerable,j=(m=Object.keys,g=Object,function(e){return m(g(e))}),x=Math.max,S=w?w.prototype:void 0,I=S?S.toString:void 0;function T(e,t){var n=L(e)||function(e){return function(e){return q(e)&&P(e)}(e)&&_.call(e,"callee")&&(!E.call(e,"callee")||"[object Arguments]"==O.call(e))}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!_.call(e,i)||o&&("length"==i||R(i,r))||n.push(i);return n}function k(e,t,n,r){return void 0===e||M(e,b[n])&&!_.call(r,n)?t:e}function C(e,t,n){var r=e[t];_.call(e,t)&&M(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function N(e,t){return t=x(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=x(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=i,y(e,this,a)}}function R(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function D(e,t,n){if(!$(n))return!1;var r=typeof t;return!!("number"==r?P(n)&&R(t,n.length):"string"==r&&t in n)&&M(n[t],e)}function A(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||b)}function M(e,t){return e===t||e!=e&&t!=t}var L=Array.isArray;function P(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=$(e)?O.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}function F(e){return!!q(e)&&("[object Error]"==O.call(e)||"string"==typeof e.message&&"string"==typeof e.name)}function $(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function q(e){return!!e&&"object"==typeof e}var z,U=(z=function(e,t,n,r){!function(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;C(n,a,void 0===s?e[a]:s)}}(t,function(e){return P(e)?T(e,!0):function(e){if(!$(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=A(e),n=[];for(var r in e)("constructor"!=r||!t&&_.call(e,r))&&n.push(r);return n}(e)}(t),e,r)},N(function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=z.length>3&&"function"==typeof o?(r--,o):void 0,i&&D(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&z(e,a,0,o)}return e})),V=N(function(e,t){try{return y(e,void 0,t)}catch(e){return F(e)?e:new Error(e)}});n.exports=function(e,t,n){var u,p=o.imports._.templateSettings||o;n&&D(e,t,n)&&(t=void 0),e=null==(u=e)?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||q(e)&&"[object Symbol]"==O.call(e)}(e))return I?I.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(u),t=U({},t,p,k);var d,h,y,m=U({},t.imports,p.imports,k),g=P(y=m)?T(y):function(e){if(!A(e))return j(e);var t=[];for(var n in Object(e))_.call(e,n)&&"constructor"!=n&&t.push(n);return t}(y),b=function(e,t){return function(t,n){for(var r=-1,o=t?t.length:0,i=Array(o);++r<o;)i[r]=e[t[r]];return i}(t)}(m,g),w=0,E=t.interpolate||l,x="__p += '",S=RegExp((t.escape||l).source+"|"+E.source+"|"+(E===r?c:l).source+"|"+(t.evaluate||l).source+"|$","g"),C="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(S,function(t,n,r,o,i,a){return r||(r=o),x+=e.slice(w,a).replace(f,v),n&&(d=!0,x+="' +\n__e("+n+") +\n'"),i&&(h=!0,x+="';\n"+i+";\n__p += '"),r&&(x+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),w=a+t.length,t}),x+="';\n";var N=t.variable;N||(x="with (obj) {\n"+x+"\n}\n"),x=(h?x.replace(i,""):x).replace(a,"$1").replace(s,"$1;"),x="function("+(N||"obj")+") {\n"+(N?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(d?", __e = _.escape":"")+(h?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+x+"return __p\n}";var R=V(function(){return Function(g,C+"return "+x).apply(void 0,b)});if(R.source=x,F(R))throw R;return R}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._reinterpolate":6,"lodash.templatesettings":10}],10:[function(e,n,r){(function(t){var r,o=e("lodash._reinterpolate"),i=/[&<>"'`]/g,a=RegExp(i.source),s="object"==typeof self&&self&&self.Object===Object&&self,c="object"==typeof t&&t&&t.Object===Object&&t||s||Function("return this")(),u=(r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(e){return null==r?void 0:r[e]}),l=Object.prototype.toString,f=c.Symbol,p=f?f.prototype:void 0,d=p?p.toString:void 0;n.exports={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:o,variable:"",imports:{_:{escape:function(e){return(e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return d?d.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t))&&a.test(e)?e.replace(i,u):e;var t}}}}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._reinterpolate":6}],11:[function(e,t,n){var r=e("./_root");t.exports=r.Symbol},{"./_root":18}],12:[function(e,t,n){var r=e("./_Symbol"),o=e("./_getRawTag"),i=e("./_objectToString"),a=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},{"./_Symbol":11,"./_getRawTag":15,"./_objectToString":16}],13:[function(e,n,r){(function(e){n.exports="object"==typeof e&&e&&e.Object===Object&&e}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,n){var r=e("./_overArg")(Object.getPrototypeOf,Object);t.exports=r},{"./_overArg":17}],15:[function(e,t,n){var r=e("./_Symbol"),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},{"./_Symbol":11}],16:[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},{}],17:[function(e,t,n){t.exports=function(e,t){return function(n){return e(t(n))}}},{}],18:[function(e,t,n){var r=e("./_freeGlobal"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},{"./_freeGlobal":13}],19:[function(e,t,n){t.exports=function(e){return null!=e&&"object"==typeof e}},{}],20:[function(e,t,n){var r=e("./_baseGetTag"),o=e("./_getPrototype"),i=e("./isObjectLike"),a=Function.prototype.toString,s=Object.prototype.hasOwnProperty,c=a.call(Object);t.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==c}},{"./_baseGetTag":12,"./_getPrototype":14,"./isObjectLike":19}],21:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var u,l=[],f=!1,p=-1;function d(){f&&u&&(f=!1,u.length?l=u.concat(l):p=-1,l.length&&h())}function h(){if(!f){var e=c(d);f=!0;for(var t=l.length;t;){for(u=l,l=[];++p<t;)u&&u[p].run();p=-1,t=l.length}u=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new y(e,t)),1!==l.length||f||c(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],22:[function(e,t,n){function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}n.__esModule=!0;var o=r();o.withExtraArgument=r,n.default=o},{}],23:[function(e,t,n){n.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,o,a){var s,c=e(n,o,a),u=c.dispatch,l={getState:c.getState,dispatch:function(e){return u(e)}};return s=t.map(function(e){return e(l)}),u=i.default.apply(void 0,s)(c.dispatch),r({},c,{dispatch:u})}}};var o,i=(o=e("./compose"))&&o.__esModule?o:{default:o}},{"./compose":26}],24:[function(e,t,n){function r(e,t){return function(){return t(e.apply(void 0,arguments))}}n.__esModule=!0,n.default=function(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},i=0;i<n.length;i++){var a=n[i],s=e[a];"function"==typeof s&&(o[a]=r(s,t))}return o}},{}],25:[function(e,t,n){(function(t){n.__esModule=!0,n.default=function(e){for(var n=Object.keys(e),o={},a=0;a<n.length;a++){var u=n[a];"production"!==t.env.NODE_ENV&&void 0===e[u]&&(0,i.default)('No reducer provided for key "'+u+'"'),"function"==typeof e[u]&&(o[u]=e[u])}var l=Object.keys(o),f=void 0;"production"!==t.env.NODE_ENV&&(f={});var p=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:r.ActionTypes.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(o)}catch(e){p=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];if(p)throw p;if("production"!==t.env.NODE_ENV){var r=c(e,o,n,f);r&&(0,i.default)(r)}for(var a=!1,u={},d=0;d<l.length;d++){var h=l[d],y=o[h],v=e[h],m=y(v,n);if(void 0===m){var g=s(h,n);throw new Error(g)}u[h]=m,a=a||m!==v}return a?u:e}};var r=e("./createStore"),o=a(e("lodash/isPlainObject")),i=a(e("./utils/warning"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e,t,n,i){var a=Object.keys(t),s=n&&n.type===r.ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===a.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,o.default)(e))return"The "+s+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+a.join('", "')+'"';var c=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)&&!i[e]});return c.forEach(function(e){i[e]=!0}),c.length>0?"Unexpected "+(c.length>1?"keys":"key")+' "'+c.join('", "')+'" found in '+s+'. Expected to find one of the known reducer keys instead: "'+a.join('", "')+'". Unexpected keys will be ignored.':void 0}}).call(this,e("_process"))},{"./createStore":27,"./utils/warning":29,_process:21,"lodash/isPlainObject":20}],26:[function(e,t,n){n.__esModule=!0,n.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}},{}],27:[function(e,t,n){n.__esModule=!0,n.ActionTypes=void 0,n.default=function e(t,n,i){var s;if("function"==typeof n&&void 0===i&&(i=n,n=void 0),void 0!==i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var c=t,u=n,l=[],f=l,p=!1;function d(){f===l&&(f=l.slice())}function h(){return u}function y(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return d(),f.push(e),function(){if(t){t=!1,d();var n=f.indexOf(e);f.splice(n,1)}}}function v(e){if(!(0,r.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,u=c(u,e)}finally{p=!1}for(var t=l=f,n=0;n<t.length;n++)(0,t[n])();return e}return v({type:a.INIT}),(s={dispatch:v,subscribe:y,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,v({type:a.INIT})}})[o.default]=function(){var e,t=y;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[o.default]=function(){return this},e},s};var r=i(e("lodash/isPlainObject")),o=i(e("symbol-observable"));function i(e){return e&&e.__esModule?e:{default:e}}var a=n.ActionTypes={INIT:"@@redux/INIT"}},{"lodash/isPlainObject":20,"symbol-observable":33}],28:[function(e,t,n){(function(t){n.__esModule=!0,n.compose=n.applyMiddleware=n.bindActionCreators=n.combineReducers=n.createStore=void 0;var r=u(e("./createStore")),o=u(e("./combineReducers")),i=u(e("./bindActionCreators")),a=u(e("./applyMiddleware")),s=u(e("./compose")),c=u(e("./utils/warning"));function u(e){return e&&e.__esModule?e:{default:e}}function l(){}"production"!==t.env.NODE_ENV&&"string"==typeof l.name&&"isCrushed"!==l.name&&(0,c.default)("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),n.createStore=r.default,n.combineReducers=o.default,n.bindActionCreators=i.default,n.applyMiddleware=a.default,n.compose=s.default}).call(this,e("_process"))},{"./applyMiddleware":23,"./bindActionCreators":24,"./combineReducers":25,"./compose":26,"./createStore":27,"./utils/warning":29,_process:21}],29:[function(e,t,n){n.__esModule=!0,n.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},{}],30:[function(e,t,n){var r=e("./src/suggestions");window.Suggestions=t.exports=r},{"./src/suggestions":32}],31:[function(e,t,n){var r=function(e){return this.component=e,this.items=[],this.active=0,this.element=document.createElement("ul"),this.element.className="suggestions",this.selectingListItem=!1,e.el.parentNode.insertBefore(this.element,e.el.nextSibling),this};r.prototype.show=function(){this.element.style.display="block"},r.prototype.hide=function(){this.element.style.display="none"},r.prototype.add=function(e){this.items.push(e)},r.prototype.clear=function(){this.items=[],this.active=0},r.prototype.isEmpty=function(){return!this.items.length},r.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()}else this.hide()},r.prototype.drawItem=function(e,t){var n=document.createElement("li"),r=document.createElement("a");t&&(n.className+=" active"),r.innerHTML=e.string,n.appendChild(r),this.element.appendChild(n),n.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),n.addEventListener("mouseup",function(){this.handleMouseUp.call(this,e)}.bind(this))},r.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()},r.prototype.move=function(e){this.active=e,this.draw()},r.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},r.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},t.exports=r},{}],32:[function(e,t,n){var r=e("xtend"),o=e("fuzzy"),i=e("./list"),a=function(e,t,n){return this.options=r({minLength:2,limit:5,filter:!0},n=n||{}),this.el=e,this.data=t||[],this.list=new i(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(e){this.handleKeyUp(e.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(e){this.handleKeyDown(e)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(e){this.handlePaste(e)}.bind(this)),this};a.prototype.handleKeyUp=function(e){40!==e&&38!==e&&27!==e&&13!==e&&9!==e&&this.handleInputChange(this.el.value)},a.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:e.preventDefault(),this.list.isEmpty()||(this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},a.prototype.handleBlur=function(){this.list.selectingListItem||this.list.hide()},a.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}},a.prototype.handleInputChange=function(e){this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(e){for(var t=0;t<e.length&&(this.list.add(e[t]),t!==this.options.limit-1);t++);this.list.draw()}.bind(this))},a.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},a.prototype.update=function(e){this.data=e,this.handleKeyUp()},a.prototype.clear=function(){this.data=[],this.list.clear()},a.prototype.normalize=function(e){return e.toLowerCase()},a.prototype.match=function(e,t){return e.indexOf(t)>-1},a.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")},a.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:function(e){return this.getItemValue(e)}.bind(this)};e(this.options.filter?o.filter(this.query,this.data,t):this.data.map(function(e){for(var t=this.getItemValue(e),n=this.normalize(t),r=n.lastIndexOf(this.query);r>-1;){var o=r+this.query.length;t=t.slice(0,r)+"<strong>"+t.slice(r,o)+"</strong>"+t.slice(o),r=n.slice(0,r).lastIndexOf(this.query)}return{original:e,string:t}}.bind(this)))},a.prototype.getItemValue=function(e){return e},t.exports=a},{"./list":31,fuzzy:4,xtend:37}],33:[function(e,n,r){(function(t){Object.defineProperty(r,"__esModule",{value:!0});var o,i,a=(o=e("./ponyfill.js"))&&o.__esModule?o:{default:o};i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:void 0!==n?n:Function("return this")();var s=(0,a.default)(i);r.default=s}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ponyfill.js":34}],34:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},{}],35:[function(e,t,n){var r=e("turf-meta").coordEach;t.exports=function(e){var t=[Infinity,Infinity,-Infinity,-Infinity];return r(e,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}},{"turf-meta":36}],36:[function(e,t,n){function r(e,t,n){var r,o,i,a,s,c,u,f,p,d=0,h="FeatureCollection"===e.type,y="Feature"===e.type,v=h?e.features.length:1;for(r=0;r<v;r++)for(c=(p="GeometryCollection"===(f=h?e.features[r].geometry:y?e.geometry:e).type)?f.geometries.length:1,a=0;a<c;a++)if(u=(s=p?f.geometries[a]:f).coordinates,d=!n||"Polygon"!==s.type&&"MultiPolygon"!==s.type?0:1,"Point"===s.type)t(u);else if("LineString"===s.type||"MultiPoint"===s.type)for(o=0;o<u.length;o++)t(u[o]);else if("Polygon"===s.type||"MultiLineString"===s.type)for(o=0;o<u.length;o++)for(i=0;i<u[o].length-d;i++)t(u[o][i]);else{if("MultiPolygon"!==s.type)throw new Error("Unknown Geometry Type");for(o=0;o<u.length;o++)for(i=0;i<u[o].length;i++)for(l=0;l<u[o][i].length-d;l++)t(u[o][i][l])}}function o(e,t){var n;switch(e.type){case"FeatureCollection":for(features=e.features,n=0;n<e.features.length;n++)t(e.features[n].properties);break;case"Feature":t(e.properties)}}t.exports.coordEach=r,t.exports.coordReduce=function(e,t,n,o){return r(e,function(e){n=t(n,e)},o),n},t.exports.propEach=o,t.exports.propReduce=function(e,t,n){return o(e,function(e){n=t(n,e)}),n}},{}],37:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)r.call(n,o)&&(e[o]=n[o])}return e};var r=Object.prototype.hasOwnProperty},{}],38:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.queryOrigin=function(e){return{type:o.ORIGIN_QUERY,query:e}},n.queryDestination=function(e){return{type:o.DESTINATION_QUERY,query:e}},n.queryOriginCoordinates=h,n.queryDestinationCoordinates=y,n.clearOrigin=function(){return function(e){e({type:o.ORIGIN_CLEAR}),e(b("clear",{type:"origin"})),e(d(null))}},n.clearDestination=function(){return function(e){e({type:o.DESTINATION_CLEAR}),e(b("clear",{type:"destination"})),e(d(null))}},n.setOptions=function(e){return{type:o.SET_OPTIONS,options:e}},n.hoverMarker=function(e){return function(t){var n;t((n=e?i.default.createPoint(e,{id:"hover"}):{},{type:o.HOVER_MARKER,hoverMarker:n}))}},n.setRouteIndex=v,n.createOrigin=m,n.createDestination=g,n.setProfile=function(e){return function(t,n){var r=n(),i=r.origin,a=r.destination;t({type:o.DIRECTIONS_PROFILE,profile:e}),t(b("profile",{profile:e})),i.geometry&&a.geometry&&t(f())}},n.reverse=function(){return function(e,t){var n=t();n.destination.geometry&&e(s(n.destination.geometry.coordinates)),n.origin.geometry&&e(c(n.origin.geometry.coordinates)),n.origin.geometry&&n.destination.geometry&&e(f())}},n.setOriginFromCoordinates=function(e){return function(t){if(i.default.validCoords(e)||(e=[i.default.wrap(e[0]),i.default.wrap(e[1])]),isNaN(e[0])&&isNaN(e[1]))return t(d(new Error("Coordinates are not valid")));t(h(e)),t(m(e))}},n.setDestinationFromCoordinates=function(e){return function(t){if(i.default.validCoords(e)||(e=[i.default.wrap(e[0]),i.default.wrap(e[1])]),isNaN(e[0])&&isNaN(e[1]))return t(d(new Error("Coordinates are not valid")));t(g(e)),t(y(e))}},n.addWaypoint=function(e,t){return function(n,r){var o=r(),i=o.destination,a=o.waypoints;a.splice(e,0,p(t)),n(l(a)),i.geometry&&n(f())}},n.setWaypoint=function(e,t){return function(n,r){var o=r(),i=o.destination,a=o.waypoints;a[e]=p(t),n(l(a)),i.geometry&&n(f())}},n.removeWaypoint=function(e){return function(t,n){var r=n(),o=r.destination,a=r.waypoints;t(l(a=a.filter(function(t){return!i.default.coordinateMatch(t,e)}))),o.geometry&&t(f())}},n.eventSubscribe=function(e,t){return function(n,r){var i=r().events;return i[e]=i[e]||[],i[e].push(t),{type:o.EVENTS,events:i}}},n.eventEmit=b;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../constants/action_types")),i=(r=e("../utils"))&&r.__esModule?r:{default:r},a=new XMLHttpRequest;function s(e){return function(t){var n=i.default.createPoint(e,{id:"origin","marker-symbol":"A"});t({type:o.ORIGIN,origin:n}),t(b("origin",{feature:n}))}}function c(e){return function(t){var n=i.default.createPoint(e,{id:"destination","marker-symbol":"B"});t({type:o.DESTINATION,destination:n}),t(b("destination",{feature:n}))}}function u(e){return function(t){t({type:o.DIRECTIONS,directions:e}),t(b("route",{route:e}))}}function l(e){return{type:o.WAYPOINTS,waypoints:e}}function f(){return function(e,t){var n=t(),r=n.api,o=n.accessToken,i=n.routeIndex,l=n.profile,f=n.alternatives,p=n.congestion,h=n.destination,y=n.language,m=n.exclude;if(h&&h.geometry){var g=function(e){var t=e(),n=t.destination,r=t.waypoints,o=[];return o.push(t.origin.geometry.coordinates.join(",")),o.push(";"),r.length&&r.forEach(function(e){o.push(e.geometry.coordinates.join(",")),o.push(";")}),o.push(n.geometry.coordinates.join(",")),encodeURIComponent(o.join(""))}(t),b=[];b.push("geometries=polyline"),f&&b.push("alternatives=true"),p&&b.push("annotations=congestion"),b.push("steps=true"),b.push("overview=full"),y&&b.push("language="+y),m&&b.push("exclude="+m),o&&b.push("access_token="+o),a.abort(),a.open("GET",""+r+l+"/"+g+".json?"+b.join("&"),!0),a.onload=function(){if(!(a.status>=200&&a.status<400))return e(u([])),e(d(JSON.parse(a.responseText).message));var t=JSON.parse(a.responseText);if(t.error)return e(u([])),e(d(t.error));e(d(null)),t.routes[i]||e(v(0)),e(u(t.routes)),e(s(t.waypoints[0].location)),e(c(t.waypoints[t.waypoints.length-1].location))},a.onerror=function(){return e(u([])),e(d(JSON.parse(a.responseText).message))},a.send()}}}function p(e){var t={id:"waypoint"};return Object.assign(e,{properties:e.properties?Object.assign(e.properties,t):t})}function d(e){return function(t){t({type:"ERROR",error:e}),e&&t(b("error",{error:e}))}}function h(e){return{type:o.ORIGIN_FROM_COORDINATES,coordinates:e}}function y(e){return{type:o.DESTINATION_FROM_COORDINATES,coordinates:e}}function v(e){return{type:o.ROUTE_INDEX,routeIndex:e}}function m(e){return function(t,n){var r=n().destination;t(s(e)),r.geometry&&t(f())}}function g(e){return function(t,n){var r=n().origin;t(c(e)),r.geometry&&t(f())}}function b(e,t){var n=this;return function(r,i){var a=i().events;if(!a[e])return{type:o.EVENTS,events:a};for(var s=a[e].slice(),c=0;c<s.length;c++)s[c].call(n,t)}}},{"../constants/action_types":39,"../utils":47}],39:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DESTINATION="DESTINATION",n.DESTINATION_CLEAR="DESTINATION_CLEAR",n.DESTINATION_QUERY="DESTINATION_QUERY",n.DESTINATION_FROM_COORDINATES="DESTINATION_FROM_COORDINATES",n.DIRECTIONS="DIRECTIONS",n.DIRECTIONS_PROFILE="DIRECTIONS_PROFILE",n.EVENTS="EVENTS",n.ERROR="ERROR",n.HOVER_MARKER="HOVER_MARKER",n.ORIGIN="ORIGIN",n.ORIGIN_CLEAR="ORIGIN_CLEAR",n.ORIGIN_QUERY="ORIGIN_QUERY",n.ORIGIN_FROM_COORDINATES="ORIGIN_FROM_COORDINATES",n.ROUTE_INDEX="ROUTE_INDEX",n.SET_OPTIONS="SET_OPTIONS",n.WAYPOINTS="WAYPOINTS"},{}],40:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(e("suggestions")),a=u(e("lodash.debounce")),s=e("events"),c=u(e("../utils"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ev=new s.EventEmitter,this.options=t,this.api=t&&t.api||"https://api.mapbox.com/geocoding/v5/mapbox.places/"}return o(e,[{key:"onAdd",value:function(e){this._map=e,this.request=new XMLHttpRequest;var t=document.createElement("div");t.className="mapboxgl-ctrl-geocoder";var n=document.createElement("span");n.className="geocoder-icon geocoder-icon-search";var r=this._inputEl=document.createElement("input");r.type="text",r.placeholder=this.options.placeholder,r.addEventListener("keydown",(0,a.default)(function(e){if(!e.target.value)return this._clearEl.classList.remove("active");e.metaKey||-1!==[9,27,37,39,13,38,40].indexOf(e.keyCode)||this._queryFromInput(e.target.value)}.bind(this)),200),r.addEventListener("change",function(t){t.target.value&&this._clearEl.classList.add("active");var n=this._typeahead.selected;if(n){if(this.options.flyTo)if(n.bbox&&n.context&&n.context.length<=3||n.bbox&&!n.context){var r=n.bbox;e.fitBounds([[r[0],r[1]],[r[2],r[3]]])}else e.flyTo({center:n.center,zoom:this.options.zoom});this._input=n,this.fire("result",{result:n})}}.bind(this));var o=document.createElement("div");o.classList.add("geocoder-pin-right");var s=this._clearEl=document.createElement("button");s.className="geocoder-icon geocoder-icon-close",s.addEventListener("click",this._clear.bind(this));var c=this._loadingEl=document.createElement("span");return c.className="geocoder-icon geocoder-icon-loading",o.appendChild(s),o.appendChild(c),t.appendChild(n),t.appendChild(r),t.appendChild(o),this.options.container&&(this.options.position=!1),this._typeahead=new i.default(r,[],{filter:!1}),this._typeahead.getItemValue=function(e){return e.place_name},t}},{key:"_geocode",value:function(e,t){this._loadingEl.classList.add("active"),this.fire("loading");var n=this.options,r=["placeholder","zoom","flyTo","accessToken"],o=Object.keys(this.options).filter(function(e){return-1===r.indexOf(e)}).map(function(e){return e+"="+n[e]}),i=this.options.accessToken?this.options.accessToken:mapboxgl.accessToken;o.push("access_token="+i),this.request.abort(),this.request.open("GET",this.api+encodeURIComponent(e.trim())+".json?"+o.join("&"),!0),this.request.onload=function(){if(this._loadingEl.classList.remove("active"),this.request.status>=200&&this.request.status<400){var e=JSON.parse(this.request.responseText);return e.features.length?this._clearEl.classList.add("active"):(this._clearEl.classList.remove("active"),this._typeahead.selected=null),this.fire("results",{results:e.features}),this._typeahead.update(e.features),t(e.features)}this.fire("error",{error:JSON.parse(this.request.responseText).message})}.bind(this),this.request.onerror=function(){this._loadingEl.classList.remove("active"),this.fire("error",{error:JSON.parse(this.request.responseText).message})}.bind(this),this.request.send()}},{key:"_queryFromInput",value:function(e){(e=e.trim())||this._clear(),e.length>2&&this._geocode(e,function(e){this._results=e}.bind(this))}},{key:"_change",value:function(){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this._inputEl.dispatchEvent(e)}},{key:"_query",value:function(e){e&&("object"===(void 0===e?"undefined":r(e))&&e.length&&(e=[c.default.wrap(e[0]),c.default.wrap(e[1])].join()),this._geocode(e,function(e){if(e.length){var t=e[0];this._results=e,this._typeahead.selected=t,this._inputEl.value=t.place_name,this._change()}}.bind(this)))}},{key:"_setInput",value:function(e){e&&("object"===(void 0===e?"undefined":r(e))&&e.length&&(e=[c.default.roundWithOriginalPrecision(c.default.wrap(e[0]),e[0]),c.default.roundWithOriginalPrecision(c.default.wrap(e[1]),e[1])].join()),this._inputEl.value=e,this._input=null,this._typeahead.selected=null,this._typeahead.clear(),this._change())}},{key:"_clear",value:function(){this._input=null,this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._change(),this._inputEl.focus(),this._clearEl.classList.remove("active"),this.fire("clear")}},{key:"getResult",value:function(){return this._input}},{key:"query",value:function(e){return this._query(e),this}},{key:"setInput",value:function(e){return this._setInput(e),this}},{key:"on",value:function(e,t){return this._ev.on(e,t),this}},{key:"fire",value:function(e,t){return this._ev.emit(e,t),this}},{key:"off",value:function(e,t){return this._ev.removeListener(e,t),this}}]),e}();n.default=l},{"../utils":47,events:3,"lodash.debounce":7,suggestions:30}],41:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(e("./geocoder")),i=c(e("lodash.template")),a=c(e("lodash.isequal")),s=c(e("turf-extent"));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,i.default)("<div class='mapbox-directions-component mapbox-directions-inputs'>\n  <div class='mapbox-directions-component-keyline'>\n    <div class='mapbox-directions-origin'>\n      <label class='mapbox-form-label'>\n        <span class='directions-icon directions-icon-depart'></span>\n      </label>\n      <div id='mapbox-directions-origin-input'></div>\n    </div>\n\n    <button\n      class='directions-icon directions-icon-reverse directions-reverse js-reverse-inputs'\n      title='Reverse origin &amp; destination'>\n    </button>\n\n    <div class='mapbox-directions-destination'>\n      <label class='mapbox-form-label'>\n        <span class='directions-icon directions-icon-arrive'></span>\n      </label>\n      <div id='mapbox-directions-destination-input'></div>\n    </div>\n  </div>\n\n  <% if (controls.profileSwitcher) { %>\n  <div class='mapbox-directions-profile mapbox-directions-component-keyline mapbox-directions-clearfix'><input\n      id='mapbox-directions-profile-driving-traffic'\n      type='radio'\n      name='profile'\n      value='mapbox/driving-traffic'\n      <% if (profile === 'mapbox/driving-traffic') { %>checked<% } %>\n    />\n    <label for='mapbox-directions-profile-driving-traffic'>Traffic</label>\n    <input\n      id='mapbox-directions-profile-driving'\n      type='radio'\n      name='profile'\n      value='mapbox/driving'\n      <% if (profile === 'mapbox/driving') { %>checked<% } %>\n    />\n    <label for='mapbox-directions-profile-driving'>Driving</label>\n    <input\n      id='mapbox-directions-profile-walking'\n      type='radio'\n      name='profile'\n      value='mapbox/walking'\n      <% if (profile === 'mapbox/walking') { %>checked<% } %>\n    />\n    <label for='mapbox-directions-profile-walking'>Walking</label>\n    <input\n      id='mapbox-directions-profile-cycling'\n      type='radio'\n      name='profile'\n      value='mapbox/cycling'\n      <% if (profile === 'mapbox/cycling') { %>checked<% } %>\n    />\n    <label for='mapbox-directions-profile-cycling'>Cycling</label>\n  </div>\n  <% } %>\n</div>\n"),l=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n.getState();t.innerHTML=u({originQuery:i.originQuery,destinationQuery:i.destinationQuery,profile:i.profile,controls:i.controls}),this.container=t,this.actions=r,this.store=n,this._map=o,this.onAdd(),this.render()}return r(e,[{key:"animateToCoordinates",value:function(e,t){var n=this.store.getState(),r=n.origin,o=n.destination;if(r.geometry&&o.geometry&&!(0,a.default)(r.geometry,o.geometry)){var i=(0,s.default)({type:"FeatureCollection",features:[r,o]});this._map.fitBounds([[i[0],i[1]],[i[2],i[3]]],{padding:80})}else this._map.flyTo({center:t})}},{key:"onAdd",value:function(){var e=this,t=this.actions,n=t.clearOrigin,r=t.clearDestination,i=t.createOrigin,a=t.createDestination,s=t.setProfile,c=t.reverse,u=this.store.getState(),l=u.geocoder,f=u.accessToken,p=u.flyTo,d=u.placeholderDestination,h=u.zoom;this.originInput=new o.default(Object.assign({},{accessToken:f},l,{flyTo:p,placeholder:u.placeholderOrigin,zoom:h}));var y=this.originInput.onAdd(this._map);this.container.querySelector("#mapbox-directions-origin-input").appendChild(y),this.destinationInput=new o.default(Object.assign({},{accessToken:f},l,{flyTo:p,placeholder:d,zoom:h}));var v=this.destinationInput.onAdd(this._map);this.container.querySelector("#mapbox-directions-destination-input").appendChild(v),this.originInput.on("result",function(t){var n=t.result.center;i(n),e.animateToCoordinates("origin",n)}),this.originInput.on("clear",n),this.destinationInput.on("result",function(t){var n=t.result.center;a(n),e.animateToCoordinates("destination",n)}),this.destinationInput.on("clear",r);var m=this.container.querySelectorAll('input[type="radio"]');Array.prototype.forEach.call(m,function(e){e.addEventListener("change",function(){s(e.value)})}),this.container.querySelector(".js-reverse-inputs").addEventListener("click",function(){var t=e.store.getState(),n=t.origin,r=t.destination;n&&e.actions.queryDestination(n.geometry.coordinates),r&&e.actions.queryOrigin(r.geometry.coordinates),c()})}},{key:"render",value:function(){var e=this;this.store.subscribe(function(){var t=e.store.getState(),n=t.originQuery,r=t.destinationQuery,o=t.originQueryCoordinates,i=t.destinationQueryCoordinates;n&&(e.originInput.query(n),e.actions.queryOrigin(null)),r&&(e.destinationInput.query(r),e.actions.queryDestination(null)),o&&(e.originInput.setInput(o),e.animateToCoordinates("origin",o),e.actions.queryOriginCoordinates(null)),i&&(e.destinationInput.setInput(i),e.animateToCoordinates("destination",i),e.actions.queryDestinationCoordinates(null))})}}]),e}();n.default=l},{"./geocoder":40,"lodash.isequal":8,"lodash.template":9,"turf-extent":35}],42:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(e("../utils")),i=s(e("lodash.template")),a=s(e("lodash.isequal"));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,i.default)("<div class='directions-control directions-control-directions'>\n  <div class='mapbox-directions-component mapbox-directions-route-summary<% if (routes > 1) { %> mapbox-directions-multiple<% } %>'>\n    <% if (routes > 1) { %>\n    <div class='mapbox-directions-routes mapbox-directions-clearfix'>\n      <% for (var i = 0; i < routes; i++) { %>\n        <input type='radio' name='routes' id='<%= i %>' <% if (i === routeIndex) { %>checked<% } %>>\n        <label for='<%= i %>' class='mapbox-directions-route'><%= i + 1 %></label>\n      <% } %>\n    </div>\n    <% } %>\n    <h1><%- duration %></h1>\n    <span><%- distance %></span>\n  </div>\n\n  <div class='mapbox-directions-instructions'>\n    <div class='mapbox-directions-instructions-wrapper'>\n      <ol class='mapbox-directions-steps'>\n        <% steps.forEach(function(step) { %>\n          <%\n            var distance = step.distance ? format(step.distance) : false;\n            var icon = step.maneuver.modifier ? step.maneuver.modifier.replace(/\\s+/g, '-').toLowerCase() : step.maneuver.type.replace(/\\s+/g, '-').toLowerCase();\n\n            if (step.maneuver.type === 'arrive' || step.maneuver.type === 'depart') {\n              icon = step.maneuver.type;\n            }\n\n            if (step.maneuver.type === 'roundabout' || step.maneuver.type === 'rotary') {\n              icon= 'roundabout';\n            }\n\n            var lng = step.maneuver.location[0];\n            var lat = step.maneuver.location[1];\n          %>\n          <li\n            data-lat='<%= lat %>'\n            data-lng='<%= lng %>'\n            class='mapbox-directions-step'>\n            <span class='directions-icon directions-icon-<%= icon %>'></span>\n            <div class='mapbox-directions-step-maneuver'>\n              <%= step.maneuver.instruction %>\n            </div>\n            <% if (distance) { %>\n              <div class='mapbox-directions-step-distance'>\n                <%= distance %>\n              </div>\n            <% } %>\n          </li>\n        <% }); %>\n      </ol>\n    </div>\n  </div>\n</div>\n"),u=(0,i.default)("<div class='directions-control directions-control-directions'>\n  <div class='mapbox-directions-error'>\n    <%= error %>\n  </div>\n</div>\n"),l=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.actions=r,this.store=n,this._map=o,this.directions={},this.render()}return r(e,[{key:"render",value:function(){var e=this;this.store.subscribe(function(){var t=e.actions,n=t.hoverMarker,r=t.setRouteIndex,i=e.store.getState(),s=i.routeIndex,l=i.unit,f=i.directions,p=i.error,d=i.compile,h=!(0,a.default)(f[s],e.directions);if(p)e.container.innerHTML=u({error:p});else if(f.length&&h){var y=e.directions=f[s];d&&y.legs.forEach(function(e){e.steps.forEach(function(e){e.maneuver.instruction=d("en",e)})}),e.container.innerHTML=c({routeIndex:s,routes:f.length,steps:y.legs[0].steps,format:o.default.format[l],duration:o.default.format[l](y.distance),distance:o.default.format.duration(y.duration)});var v=e.container.querySelectorAll(".mapbox-directions-step");Array.prototype.forEach.call(v,function(t){var r=t.getAttribute("data-lng"),o=t.getAttribute("data-lat");t.addEventListener("mouseover",function(){n([r,o])}),t.addEventListener("mouseout",function(){n(null)}),t.addEventListener("click",function(){e._map.flyTo({center:[r,o],zoom:16})})});var m=e.container.querySelectorAll('input[type="radio"]');Array.prototype.forEach.call(m,function(e){e.addEventListener("change",function(e){r(parseInt(e.target.id,10))})})}else e.container.innerHTML&&h&&(e.container.innerHTML="")})}}]),e}();n.default=l},{"../utils":47,"lodash.isequal":8,"lodash.template":9}],43:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("redux"),i=d(e("redux-thunk")),a=e("@mapbox/polyline"),s=d(e("./utils")),c=d(e("./reducers")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./actions")),l=d(e("./directions_style")),f=d(e("./controls/inputs")),p=d(e("./controls/instructions"));function d(e){return e&&e.__esModule?e:{default:e}}var h=(0,o.applyMiddleware)(i.default)(o.createStore)(c.default),y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=(0,o.bindActionCreators)(u,h.dispatch),this.actions.setOptions(t||{}),this.options=t||{},this.onDragDown=this._onDragDown.bind(this),this.onDragMove=this._onDragMove.bind(this),this.onDragUp=this._onDragUp.bind(this),this.move=this._move.bind(this),this.onClick=this._clickHandler().bind(this)}return r(e,[{key:"onAdd",value:function(e){var t=this;this._map=e;var n=h.getState().controls,r=this.container=document.createElement("div");r.className="mapboxgl-ctrl-directions mapboxgl-ctrl";var o=document.createElement("div");o.className="directions-control directions-control-inputs",new f.default(o,h,this.actions,this._map);var i=document.createElement("div");return i.className="directions-control directions-control-instructions",new p.default(i,h,{hoverMarker:this.actions.hoverMarker,setRouteIndex:this.actions.setRouteIndex},this._map),n.inputs&&r.appendChild(o),n.instructions&&r.appendChild(i),this.subscribedActions(),this._map.loaded()?this.mapState():this._map.on("load",function(){return t.mapState()}),r}},{key:"onRemove",value:function(e){return this.container.parentNode.removeChild(this.container),this.removeRoutes(),e.off("mousedown",this.onDragDown),e.off("mousemove",this.move),e.off("touchstart",this.onDragDown),e.off("touchstart",this.move),e.off("click",this.onClick),this.storeUnsubscribe&&(this.storeUnsubscribe(),delete this.storeUnsubscribe),l.default.forEach(function(t){e.getLayer(t.id)&&e.removeLayer(t.id)}),e.getSource("directions")&&e.removeSource("directions"),this._map=null,this}},{key:"mapState",value:function(){var e=this,t=h.getState(),n=t.styles,r=t.interactive;this.actions.eventEmit("profile",{profile:t.profile}),this._map.addSource("directions",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),n&&n.length&&n.forEach(function(t){return e._map.addLayer(t)}),l.default.forEach(function(t){e._map.getLayer(t.id)||e._map.addLayer(t)}),r&&(this._map.on("mousedown",this.onDragDown),this._map.on("mousemove",this.move),this._map.on("click",this.onClick),this._map.on("touchstart",this.move),this._map.on("touchstart",this.onDragDown))}},{key:"subscribedActions",value:function(){var e=this;this.storeUnsubscribe=h.subscribe(function(){var t=h.getState(),n=t.directions,r=t.routeIndex,o={type:"FeatureCollection",features:[t.origin,t.destination,t.hoverMarker].filter(function(e){return e.geometry})};n.length&&n.forEach(function(e,t){var n=[];(0,a.decode)(e.geometry,5).map(function(e){return e.reverse()}).forEach(function(o,i){var a=n[n.length-1],s=e.legs[0].annotation&&e.legs[0].annotation.congestion&&e.legs[0].annotation.congestion[i-1];if(!a||s&&a.properties.congestion!==s){var c={geometry:{type:"LineString",coordinates:[]},properties:{"route-index":t,route:t===r?"selected":"alternate"}};a&&c.geometry.coordinates.push(a.geometry.coordinates[a.geometry.coordinates.length-1]),c.geometry.coordinates.push(o),s&&(c.properties.congestion=e.legs[0].annotation.congestion[i-1]),n.push(c)}else a.geometry.coordinates.push(o)}),o.features=o.features.concat(n),t===r&&e.legs[0].steps.forEach(function(e){"waypoint"===e.maneuver.type&&o.features.push({type:"Feature",geometry:e.maneuver.location,properties:{id:"waypoint"}})})}),e._map.style&&e._map.getSource("directions")&&e._map.getSource("directions").setData(o)})}},{key:"_clickHandler",value:function(){var e=null;return function(t){if(e)clearTimeout(e),e=null,this._map.zoomIn();else{var n=this._onSingleClick.bind(this);e=setTimeout(function(){n(t),e=null},250)}}}},{key:"_onSingleClick",value:function(e){var t=this,n=h.getState(),r=[e.lngLat.lng,e.lngLat.lat];if(n.origin.geometry){var o=this._map.queryRenderedFeatures(e.point,{layers:["directions-origin-point","directions-destination-point","directions-waypoint-point","directions-route-line-alt"]});o.length?(o.forEach(function(e){"directions-waypoint-point"===e.layer.id&&t.actions.removeWaypoint(e)}),"alternate"===o[0].properties.route&&this.actions.setRouteIndex(o[0].properties["route-index"])):(this.actions.setDestinationFromCoordinates(r),this._map.flyTo({center:r}))}else this.actions.setOriginFromCoordinates(r)}},{key:"_move",value:function(e){var t=this,n=h.getState().hoverMarker,r=this._map.queryRenderedFeatures(e.point,{layers:["directions-route-line-alt","directions-route-line","directions-origin-point","directions-destination-point","directions-hover-point"]});this._map.getCanvas().style.cursor=r.length?"pointer":"",r.length?(this.isCursorOverPoint=r[0],this._map.dragPan.disable(),r.forEach(function(r){"directions-route-line"===r.layer.id?t.actions.hoverMarker([e.lngLat.lng,e.lngLat.lat]):n.geometry&&t.actions.hoverMarker(null)})):this.isCursorOverPoint&&(this.isCursorOverPoint=!1,this._map.dragPan.enable())}},{key:"_onDragDown",value:function(){this.isCursorOverPoint&&(this.isDragging=this.isCursorOverPoint,this._map.getCanvas().style.cursor="grab",this._map.on("mousemove",this.onDragMove),this._map.on("mouseup",this.onDragUp),this._map.on("touchmove",this.onDragMove),this._map.on("touchend",this.onDragUp))}},{key:"_onDragMove",value:function(e){if(this.isDragging){var t=[e.lngLat.lng,e.lngLat.lat];switch(this.isDragging.layer.id){case"directions-origin-point":this.actions.createOrigin(t);break;case"directions-destination-point":this.actions.createDestination(t);break;case"directions-hover-point":this.actions.hoverMarker(t)}}}},{key:"_onDragUp",value:function(){if(this.isDragging){var e=h.getState(),t=e.hoverMarker,n=e.origin,r=e.destination;switch(this.isDragging.layer.id){case"directions-origin-point":this.actions.setOriginFromCoordinates(n.geometry.coordinates);break;case"directions-destination-point":this.actions.setDestinationFromCoordinates(r.geometry.coordinates);break;case"directions-hover-point":t.geometry&&!s.default.coordinateMatch(this.isDragging,t)&&this.actions.addWaypoint(0,t)}this.isDragging=!1,this._map.getCanvas().style.cursor="",this._map.off("touchmove",this.onDragMove),this._map.off("touchend",this.onDragUp),this._map.off("mousemove",this.onDragMove),this._map.off("mouseup",this.onDragUp)}}},{key:"interactive",value:function(e){return e?(this._map.on("touchstart",this.move),this._map.on("touchstart",this.onDragDown),this._map.on("mousedown",this.onDragDown),this._map.on("mousemove",this.move),this._map.on("click",this.onClick)):(this._map.off("touchstart",this.move),this._map.off("touchstart",this.onDragDown),this._map.off("mousedown",this.onDragDown),this._map.off("mousemove",this.move),this._map.off("click",this.onClick)),this}},{key:"getOrigin",value:function(){return h.getState().origin}},{key:"setOrigin",value:function(e){return"string"==typeof e?this.actions.queryOrigin(e):this.actions.setOriginFromCoordinates(e),this}},{key:"getDestination",value:function(){return h.getState().destination}},{key:"setDestination",value:function(e){return"string"==typeof e?this.actions.queryDestination(e):this.actions.setDestinationFromCoordinates(e),this}},{key:"reverse",value:function(){return this.actions.reverse(),this}},{key:"addWaypoint",value:function(e,t){return t.type||(t=s.default.createPoint(t,{id:"waypoint"})),this.actions.addWaypoint(e,t),this}},{key:"setWaypoint",value:function(e,t){return t.type||(t=s.default.createPoint(t,{id:"waypoint"})),this.actions.setWaypoint(e,t),this}},{key:"removeWaypoint",value:function(e){var t=h.getState();return this.actions.removeWaypoint(t.waypoints[e]),this}},{key:"getWaypoints",value:function(){return h.getState().waypoints}},{key:"removeRoutes",value:function(){return this.actions.clearOrigin(),this.actions.clearDestination(),this}},{key:"on",value:function(e,t){return this.actions.eventSubscribe(e,t),this}}]),e}();n.default=y},{"./actions":38,"./controls/inputs":41,"./controls/instructions":42,"./directions_style":44,"./reducers":46,"./utils":47,"@mapbox/polyline":1,redux:28,"redux-thunk":22}],44:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=[{id:"directions-route-line-alt",type:"line",source:"directions",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#bbb","line-width":4},filter:["all",["in","$type","LineString"],["in","route","alternate"]]},{id:"directions-route-line-casing",type:"line",source:"directions",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#2d5f99","line-width":12},filter:["all",["in","$type","LineString"],["in","route","selected"]]},{id:"directions-route-line",type:"line",source:"directions",layout:{"line-cap":"butt","line-join":"round"},paint:{"line-color":{property:"congestion",type:"categorical",default:"#4882c5",stops:[["unknown","#4882c5"],["low","#4882c5"],["moderate","#f09a46"],["heavy","#e34341"],["severe","#8b2342"]]},"line-width":7},filter:["all",["in","$type","LineString"],["in","route","selected"]]},{id:"directions-hover-point-casing",type:"circle",source:"directions",paint:{"circle-radius":8,"circle-color":"#fff"},filter:["all",["in","$type","Point"],["in","id","hover"]]},{id:"directions-hover-point",type:"circle",source:"directions",paint:{"circle-radius":6,"circle-color":"#3bb2d0"},filter:["all",["in","$type","Point"],["in","id","hover"]]},{id:"directions-waypoint-point-casing",type:"circle",source:"directions",paint:{"circle-radius":8,"circle-color":"#fff"},filter:["all",["in","$type","Point"],["in","id","waypoint"]]},{id:"directions-waypoint-point",type:"circle",source:"directions",paint:{"circle-radius":6,"circle-color":"#8a8bc9"},filter:["all",["in","$type","Point"],["in","id","waypoint"]]},{id:"directions-origin-point",type:"circle",source:"directions",paint:{"circle-radius":18,"circle-color":"#3bb2d0"},filter:["all",["in","$type","Point"],["in","marker-symbol","A"]]},{id:"directions-origin-label",type:"symbol",source:"directions",layout:{"text-field":"A","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#fff"},filter:["all",["in","$type","Point"],["in","marker-symbol","A"]]},{id:"directions-destination-point",type:"circle",source:"directions",paint:{"circle-radius":18,"circle-color":"#8a8bc9"},filter:["all",["in","$type","Point"],["in","marker-symbol","B"]]},{id:"directions-destination-label",type:"symbol",source:"directions",layout:{"text-field":"B","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#fff"},filter:["all",["in","$type","Point"],["in","marker-symbol","B"]]}]},{}],45:[function(e,t,n){var r,o=(r=e("./directions"))&&r.__esModule?r:{default:r};t.exports=o.default},{"./directions":43}],46:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../constants/action_types.js")),i=(r=e("deep-assign"))&&r.__esModule?r:{default:r},a={api:"https://api.mapbox.com/directions/v5/",profile:"mapbox/driving-traffic",alternatives:!1,congestion:!1,unit:"imperial",flyTo:!0,placeholderOrigin:"Choose a starting place",placeholderDestination:"Choose destination",zoom:16,language:"en",compile:null,proximity:!1,styles:[],controls:{profileSwitcher:!0,inputs:!0,instructions:!0},geocoder:{},interactive:!0,events:{},origin:{},destination:{},hoverMarker:{},waypoints:[],originQuery:null,destinationQuery:null,originQueryCoordinates:null,destinationQueryCoordinates:null,directions:[],routeIndex:0};n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case o.SET_OPTIONS:return(0,i.default)({},e,t.options);case o.DIRECTIONS_PROFILE:return Object.assign({},e,{profile:t.profile});case o.ORIGIN:return Object.assign({},e,{origin:t.origin,hoverMarker:{}});case o.DESTINATION:return Object.assign({},e,{destination:t.destination,hoverMarker:{}});case o.HOVER_MARKER:return Object.assign({},e,{hoverMarker:t.hoverMarker});case o.WAYPOINTS:return Object.assign({},e,{waypoints:t.waypoints});case o.ORIGIN_QUERY:return Object.assign({},e,{originQuery:t.query});case o.DESTINATION_QUERY:return Object.assign({},e,{destinationQuery:t.query});case o.ORIGIN_FROM_COORDINATES:return Object.assign({},e,{originQueryCoordinates:t.coordinates});case o.DESTINATION_FROM_COORDINATES:return Object.assign({},e,{destinationQueryCoordinates:t.coordinates});case o.ORIGIN_CLEAR:return Object.assign({},e,{origin:{},originQuery:"",waypoints:[],directions:[]});case o.DESTINATION_CLEAR:return Object.assign({},e,{destination:{},destinationQuery:"",waypoints:[],directions:[]});case o.DIRECTIONS:return Object.assign({},e,{directions:t.directions});case o.ROUTE_INDEX:return Object.assign({},e,{routeIndex:t.routeIndex});case o.ERROR:return Object.assign({},e,{error:t.error});default:return e}}},{"../constants/action_types.js":39,"deep-assign":2}],47:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default={format:{duration:function(e){var t=Math.floor(e/60),n=Math.floor(t/60);return e%=60,t%=60,0===n&&0===t?e+"s":0===n?t+"min":n+"h "+t+"min"},imperial:function(e){var t=e/1609.344;return t>=100?t.toFixed(0)+"mi":t>=10?t.toFixed(1)+"mi":t>=.1?t.toFixed(2)+"mi":(5280*t).toFixed(0)+"ft"},metric:function(e){return e>=1e5?(e/1e3).toFixed(0)+"km":e>=1e4?(e/1e3).toFixed(1)+"km":e>=100?(e/1e3).toFixed(2)+"km":e.toFixed(0)+"m"}},coordinateMatch:function(e,t){return t=t.geometry.coordinates,(e=e.geometry.coordinates).join()===t.join()||e[0].toFixed(3)===t[0].toFixed(3)&&e[1].toFixed(3)===t[1].toFixed(3)},createPoint:function(e,t){return{type:"Feature",geometry:{type:"Point",coordinates:e},properties:t||{}}},validCoords:function(e){return e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90},wrap:function(e){var t=((e- -180)%360+360)%360-180;return-180===t?180:t},roundWithOriginalPrecision:function(e,t){var n=0;return Math.floor(t)!==t&&(n=t.toString().split(".")[1].length),e.toFixed(Math.min(n,5))}}},{}]},{},[45])(45)}),H=["top-left","top-right","bottom-left","bottom-right"],Y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).directions=null,t.initializeDirections=function(){var e=t.getMapboxMap(),n=t.props,r=n.position,o=n.compile,i=n.onInit,a={accessToken:n.mapboxApiAccessToken,styles:n.styles,api:n.api,interactive:n.interactive,profile:n.profile,alternatives:n.alternatives,congestion:n.congestion,unit:n.unit,geocoder:n.geocoder,controls:n.controls,zoom:n.zoom,placeholderOrigin:n.placeholderOrigin,placeholderDestination:n.placeholderDestination,flyTo:n.flyTo,exclude:n.exclude};o&&"function"==typeof o&&(a.compile=o),t.directions=new B(a),t.subscribeEvents(),e.addControl(t.directions,H.find(function(e){return r===e})),i(t.directions)},t.getMapboxMap=function(){var e=t.props.mapRef;return e&&e.current&&e.current.getMap()||null},t.subscribeEvents=function(){t.directions.on("clear",t.handleClear),t.directions.on("loading",t.handleLoading),t.directions.on("profile",t.handleProfile),t.directions.on("origin",t.handleOrigin),t.directions.on("destination",t.handleDestination),t.directions.on("route",t.handleRoute),t.directions.on("error",t.handleError)},t.unsubscribeEvents=function(){t.directions.off("clear",t.handleClear),t.directions.off("loading",t.handleLoading),t.directions.off("profile",t.handleProfile),t.directions.off("origin",t.handleOrigin),t.directions.off("destination",t.handleDestination),t.directions.off("route",t.handleRoute),t.directions.off("error",t.handleError)},t.removeDirections=function(){var e=t.getMapboxMap();t.unsubscribeEvents(),e&&e.removeControl&&t.getMapboxMap().removeControl(t.directions),t.directions=null},t.handleClear=function(e){t.props.onClear(e)},t.handleLoading=function(e){t.props.onLoading(e)},t.handleProfile=function(e){t.props.onProfile(e)},t.handleOrigin=function(e){t.props.onOrigin(e)},t.handleDestination=function(e){t.props.onDestination(e)},t.handleRoute=function(e){t.props.onRoute(e)},t.handleError=function(e){t.props.onError(e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.initializeDirections()},o.componentWillUnmount=function(){this.removeDirections()},o.componentDidUpdate=function(){this.removeDirections(),this.initializeDirections()},o.render=function(){return null},r}(e.PureComponent);return Y.propTypes={mapRef:Q.object.isRequired,mapboxApiAccessToken:Q.string.isRequired,position:Q.oneOf(H),styles:Q.array,api:Q.string,interactive:Q.bool,profile:Q.string,alternatives:Q.bool,congestion:Q.bool,unit:Q.string,compile:Q.func,geocoder:Q.object,controls:Q.object,zoom:Q.number,placeholderOrigin:Q.string,placeholderDestination:Q.string,flyTo:Q.bool,exclude:Q.bool,onInit:Q.func,onClear:Q.func,onLoading:Q.func,onOrigin:Q.func,onProfile:Q.func,onDestination:Q.func,onRoute:Q.func,onError:Q.func},Y.defaultProps={position:"top-right",zoom:16,api:"https://api.mapbox.com/directions/v5/",profile:"mapbox/driving-traffic",onInit:function(){},onClear:function(){},onLoading:function(){},onOrigin:function(){},onProfile:function(){},onDestination:function(){},onRoute:function(){},onError:function(){}},Y});
//# sourceMappingURL=index.umd.js.map
